(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{70:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return i})),a.d(t,"metadata",(function(){return r})),a.d(t,"rightToc",(function(){return c})),a.d(t,"default",(function(){return l}));var n=a(2),o=a(6),s=(a(0),a(79)),i={title:"Configuration"},r={unversionedId:"configuration",id:"configuration",isDocsHomePage:!1,title:"Configuration",description:"The .upptimerc.yml file is used as the central configuration for Upptime, with this syntax:",source:"@site/docs/configuration.md",slug:"/configuration",permalink:"/docs/configuration",editUrl:"https://github.com/upptime/upptime.js.org/blob/master/docs/configuration.md",version:"current",sidebar:"sidebar",previous:{title:"Getting started",permalink:"/docs/get-started"},next:{title:"Triggers",permalink:"/docs/triggers"}},c=[{value:"Configuration options",id:"configuration-options",children:[{value:"Repository",id:"repository",children:[]},{value:"Endpoints",id:"endpoints",children:[]},{value:"Notifications",id:"notifications",children:[]},{value:"Assignees",id:"assignees",children:[]},{value:"Status website",id:"status-website",children:[]},{value:"Internationalization",id:"internationalization",children:[]},{value:"Repository metadata",id:"repository-metadata",children:[]},{value:"Git commit options",id:"git-commit-options",children:[]},{value:"CI schedule",id:"ci-schedule",children:[]},{value:"User agent",id:"user-agent",children:[]}]}],p={rightToc:c};function l(e){var t=e.components,a=Object(o.a)(e,["components"]);return Object(s.b)("wrapper",Object(n.a)({},p,a,{components:t,mdxType:"MDXLayout"}),Object(s.b)("p",null,"The ",Object(s.b)("inlineCode",{parentName:"p"},".upptimerc.yml")," file is used as the central configuration for Upptime, with this syntax:"),Object(s.b)("pre",null,Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-yaml"}),"owner: koj-co # GitHub username\nrepo: upptime # GitHub repository name\nuser-agent: koj-co\nsites: # List of endpoints to track\n  - name: Google\n    url: https://www.google.com\nassignees: # Users to assign downtime issues (optional)\n  - AnandChowdhary\nstatus-website: # Status website (optional)\n  cname: upptime.js.org # Custom domain CNAME\n  # baseUrl: /repo\n  name: Upptime # Status website title\n")),Object(s.b)("h2",{id:"configuration-options"},"Configuration options"),Object(s.b)("h3",{id:"repository"},"Repository"),Object(s.b)("p",null,'A GitHub repository is used as the "source of truth" for your uptime logs, and the static site uses the GitHub API and fetches data from this repository.'),Object(s.b)("p",null,"After you've created a new repository using this template (see ",Object(s.b)("a",Object(n.a)({parentName:"p"},{href:"https://docs.github.com/en/github/creating-cloning-and-archiving-repositories/creating-a-repository-from-a-template"}),"Creating a repository from a template"),"), specify the username and repository name in the configuration:"),Object(s.b)("pre",null,Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-yaml"}),"owner: koj-co\nrepo: upptime\n")),Object(s.b)("h3",{id:"endpoints"},"Endpoints"),Object(s.b)("p",null,"You can track as many websites as you like. Add the names and URLs of your endpoints in the sites key:"),Object(s.b)("pre",null,Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-yaml"}),"sites:\n  - name: Google\n    url: https://www.google.com\n  - name: DuckDuckGo\n    url: https://duckduckgo.com\n")),Object(s.b)("h4",{id:"http-verbs"},"HTTP verbs"),Object(s.b)("p",null,"To make POST requests (or any other HTTP verb), you can add the method key:"),Object(s.b)("pre",null,Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-yaml"}),"sites:\n  - name: POST to Google\n    url: https://www.google.com\n    method: POST\n  - name: DELETE Example\n    url: https://example.com\n    method: DELETE\n")),Object(s.b)("h4",{id:"secret-urls"},"Secret URLs"),Object(s.b)("p",null,"If you don't want to show a URL publicly, you can use repository secrets (see ",Object(s.b)("a",Object(n.a)({parentName:"p"},{href:"https://docs.github.com/en/free-pro-team@latest/actions/reference/encrypted-secrets"}),"Creating and storing encrypted secrets"),"). Instead of the plain text URL, add the name of the secret prefixed with a $ character:"),Object(s.b)("pre",null,Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-yaml"}),"- name: Secret Site\n  url: $SECRET_SITE\n")),Object(s.b)("p",null,"In the above example, a secret named ",Object(s.b)("inlineCode",{parentName:"p"},"SECRET_SITE")," (without the $) is stored in the repository. You can add as many secrets as you like, and use them in URLs by adding the ",Object(s.b)("inlineCode",{parentName:"p"},"$")," prefix. For example, if your environment variable is called ",Object(s.b)("inlineCode",{parentName:"p"},"API_URL"),", the site URL can be ",Object(s.b)("inlineCode",{parentName:"p"},"$API_URL"),"."),Object(s.b)("p",null,"You can also use these secrets as part of the URL, for example using a secret called ",Object(s.b)("inlineCode",{parentName:"p"},"MY_API_KEY"),":"),Object(s.b)("pre",null,Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-yaml"}),"- name: API endpoint\n  url: https://example.com/get-user/3?api_key=$MY_API_KEY\n")),Object(s.b)("h4",{id:"request-headers"},"Request headers"),Object(s.b)("p",null,"Similarly, you can set headers in a request like so:"),Object(s.b)("pre",null,Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-yaml"}),'- name: API endpoint\n  url: https://example.com/get-user/3\n  headers:\n    - "Authorization: Bearer $SECRET_SITE_2"\n    - "Content-Type: application/json"\n')),Object(s.b)("h4",{id:"request-body"},"Request body"),Object(s.b)("p",null,"If you want to send data alongside the headers, you can use the ",Object(s.b)("inlineCode",{parentName:"p"},"body")," key:"),Object(s.b)("pre",null,Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-yaml"}),'- name: API endpoint with data\n  method: POST\n  url: https://example.com/login\n  headers:\n    - "Content-Type: application/json"\n  body: \'{ "password": "hello" }\'\n')),Object(s.b)("p",null,"You can add any string to the ",Object(s.b)("inlineCode",{parentName:"p"},"body")," parameter, but make sure that you supply the relevant content-type header too."),Object(s.b)("h4",{id:"custom-icons"},"Custom icons"),Object(s.b)("p",null,"Each API endpoint has an icon visible on the README.md file and the status website. By default, we use the GitHub Favicon Service to fetch the favicon for the domain of your endpoint (with a fallback to a generic globe icon), but you can also provide a custom icon URL, preferably a transparent square PNG:"),Object(s.b)("pre",null,Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-yaml"}),"sites:\n  - name: Google\n    url: https://www.google.com\n    icon: https://www.google.com/favicon.ico\n")),Object(s.b)("h4",{id:"status-codes"},"Status codes"),Object(s.b)("p",null,"If you, for example, expect a ",Object(s.b)("inlineCode",{parentName:"p"},"404")," response (which is traditionally an error response), you can set it as ",Object(s.b)("inlineCode",{parentName:"p"},"expectedStatusCodes")," to mark your site as up. By default, all 20x and 30x responses are as ",Object(s.b)("inlineCode",{parentName:"p"},"expectedStatusCodes"),":"),Object(s.b)("pre",null,Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-yaml"}),"sites:\n  - name: Google\n    url: https://www.google.com\n    expectedStatusCodes:\n      - 200\n      - 201\n      - 404\n")),Object(s.b)("h4",{id:"maximum-response-time"},"Maximum response time"),Object(s.b)("p",null,'Upptime endpoints can be up, down, or degraded. By default, if an endpoint takes more than 30 seconds to respond, its performance is tracked as "degraded". You can customize the maximum response time:'),Object(s.b)("pre",null,Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-yaml"}),"- name: Slow endpoint\n  url: https://example.com\n  maxResponseTime: 5000\n")),Object(s.b)("p",null,"In the above example, this endpoint will be measured as degraded if it takes more than 5 seconds to respond."),Object(s.b)("h4",{id:"self-signed-ssl-certificates"},"Self-signed SSL certificates"),Object(s.b)("p",null,"If you're using a self-signed SSL certificate, you can set the ",Object(s.b)("inlineCode",{parentName:"p"},"__dangerous__disable_verify_peer")," option to ",Object(s.b)("inlineCode",{parentName:"p"},"true")," to skip verifying the certificate:"),Object(s.b)("pre",null,Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-yaml"}),"- name: API endpoint\n  url: https://example.com/get-user/3\n  __dangerous__disable_verify_peer: true\n")),Object(s.b)("p",null,"If you don't want to check for certificate name mismatches, you can set the ",Object(s.b)("inlineCode",{parentName:"p"},"__dangerous__disable_verify_host")," option to ",Object(s.b)("inlineCode",{parentName:"p"},"true")," to skip verifying the certificate:"),Object(s.b)("pre",null,Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-yaml"}),"- name: API endpoint\n  url: https://example.com/get-user/3\n  __dangerous__disable_verify_host: true\n")),Object(s.b)("p",null,"Alternately, you can disable both of the above settings using ",Object(s.b)("inlineCode",{parentName:"p"},"__dangerous__insecure"),":"),Object(s.b)("pre",null,Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-yaml"}),"- name: API endpoint\n  url: https://example.com/get-user/3\n  __dangerous__insecure: true\n")),Object(s.b)("h4",{id:"custom-status-detection"},"Custom status detection"),Object(s.b)("p",null,"In some cases, your endpoint may return a 200 response but you show the user an error message. This is not a recommended approach, but you can add custom strings to check for."),Object(s.b)("pre",null,Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-yaml"}),'sites:\n  - name: Custom down\n    url: https://example.com\n    __dangerous__body_down: "File not found"\n')),Object(s.b)("p",null,'In the above example, if the body HTML response includes the string "File not found", the site will be marked as "down". Similarly, you can use ',Object(s.b)("inlineCode",{parentName:"p"},"__dangerous__body_degraded"),' to mark the site as "degraded" instead.'),Object(s.b)("h3",{id:"notifications"},"Notifications"),Object(s.b)("p",null,"You can add services to send downtime notifications to, such as SMS, Slack, or email. For more information about notifications, visit the ",Object(s.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/notifications"}),"Notifications docs")," page. You can directly configure the notifications in repository secrets (environment variables)."),Object(s.b)("h3",{id:"assignees"},"Assignees"),Object(s.b)("p",null,"You can add members of your team to be assigned to every downtime issue:"),Object(s.b)("pre",null,Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-yaml"}),"assignees:\n  - AnandChowdhary\n  - CarloBadini\n")),Object(s.b)("p",null,"If you want particular users to be assigned per-site, you can add assignees under each entry in sites:"),Object(s.b)("pre",null,Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-yaml"}),"sites:\n  - name: Google\n    url: https://www.google.com\n    assignees:\n      - AnandChowdhary\n")),Object(s.b)("h3",{id:"status-website"},"Status website"),Object(s.b)("h4",{id:"branding"},"Branding"),Object(s.b)("p",null,"A static website with PWA is also generated, and you can customize the logo and name in the navbar:"),Object(s.b)("pre",null,Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-yaml"}),"status-website:\n  name: Upptime\n  logoUrl: https://example.com/image.jpg\n")),Object(s.b)("h4",{id:"custom-domain"},"Custom domain"),Object(s.b)("p",null,"If you want to add a custom domain, you can add the cname key:"),Object(s.b)("pre",null,Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-yaml"}),"status-website:\n  name: Upptime\n  logoUrl: https://example.com/image.jpg\n  cname: upptime.js.org # Custom CNAME\n")),Object(s.b)("p",null,"If you're not using a custom domain, you should add the base URL to support the default GitHub Pages URL."),Object(s.b)("pre",null,Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-yaml"}),'status-website:\n  baseUrl: /repo # where "repo" is your repository name\n  name: Your Status Website\n')),Object(s.b)("p",null,"Then, your status page may be hosted on ",Object(s.b)("a",Object(n.a)({parentName:"p"},{href:"https://user.github.io/repo/"}),"https://user.github.io/repo/"),", where ",Object(s.b)("inlineCode",{parentName:"p"},"user")," is your GitHub username and ",Object(s.b)("inlineCode",{parentName:"p"},"repo")," is your repository name."),Object(s.b)("h4",{id:"navbar-links"},"Navbar links"),Object(s.b)("p",null,"You can customize the navbar by adding or removing top-level navigation links."),Object(s.b)("pre",null,Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-yaml"}),"status-website:\n  navbar:\n    - title: Status\n      href: /\n    - title: GitHub\n      href: https://github.com/$OWNER/$REPO\n")),Object(s.b)("h4",{id:"intro-text"},"Intro text"),Object(s.b)("p",null,"Optionally, you can add some introductory text to the website. You can use Markdown:"),Object(s.b)("pre",null,Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-yaml"}),'status-website:\n  introTitle: "**Upptime** is the open-source uptime monitor and status page, powered entirely by GitHub."\n  introMessage: This is a sample status page which uses **real-time** data from our [Github repository](https://github.com/koj-co/upptime). No server required \u2014 just GitHub Actions, Issues, and Pages.\n')),Object(s.b)("h4",{id:"custom-javascript"},"Custom JavaScript"),Object(s.b)("p",null,"You can add custom scripts:"),Object(s.b)("pre",null,Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-yaml"}),"status-website:\n  scripts:\n    - src: https://example.com/script.js\n    - src: https://example.com/script-2.js\n      async: true\n")),Object(s.b)("p",null,"Or, directly add inline JS:"),Object(s.b)("pre",null,Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-yaml"}),"status-website:\n  js: \"window.onload = function() { alert('Hello!') }\"\n")),Object(s.b)("h4",{id:"custom-css"},"Custom CSS"),Object(s.b)("p",null,"You can add custom stylesheets:"),Object(s.b)("pre",null,Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-yaml"}),"status-website:\n  links:\n    - rel: stylesheet\n      href: https://example.com/custom-styles.css\n")),Object(s.b)("p",null,"Or, directly add inline CSS:"),Object(s.b)("pre",null,Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-yaml"}),'status-website:\n  css: "body { opacity: 0.5 }"\n')),Object(s.b)("h4",{id:"custom-api-base-url"},"Custom API base URL"),Object(s.b)("p",null,"By default, Upptime uses the official GitHub API to fetch data for your status page website. If you have a proxy API (perhaps using a personal access token with readonly access to your private repository), you can set the ",Object(s.b)("inlineCode",{parentName:"p"},"apiBaseUrl")," key under ",Object(s.b)("inlineCode",{parentName:"p"},"status-website"),":"),Object(s.b)("pre",null,Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-yaml"}),"status-website:\n  apiBaseUrl: https://api.github.com\n")),Object(s.b)("h3",{id:"internationalization"},"Internationalization"),Object(s.b)("p",null,"Though our status page is in English, you can use any language with Upptime by supplying the required strings. The list of all required strings is available in ",Object(s.b)("a",Object(n.a)({parentName:"p"},{href:"https://github.com/upptime/status-page/blob/master/i18n.yml"}),Object(s.b)("inlineCode",{parentName:"a"},"upptime/status-page/i18n.yml")),", and you can add them under the i18n key in the configuration file:"),Object(s.b)("pre",null,Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-yaml"}),"i18n:\n  activeIncidents: Incidentes activos\n  allSystemsOperational: Todos los sistemas est\xe1n operativos\n  # ...\n")),Object(s.b)("p",null,"You can, for example, change the footer copyright text by changing the internationalization key for ",Object(s.b)("inlineCode",{parentName:"p"},"footer"),". These i18n keys are also used for your README.md file."),Object(s.b)("h3",{id:"repository-metadata"},"Repository metadata"),Object(s.b)("p",null,"If you've just set up your new repository and don't have repository metadata (like description, topics, and homepage), Upptime will update that for you. It will update the metadata as follows:"),Object(s.b)("ul",null,Object(s.b)("li",{parentName:"ul"},Object(s.b)("strong",{parentName:"li"},"Description:"),' "\ud83d\udcc8 Uptime monitor and status page for $TITLE, powered by @upptime", where $TITLE is the name of your GitHub organization or user'),Object(s.b)("li",{parentName:"ul"},Object(s.b)("strong",{parentName:"li"},"Topics:"),' "uptime-monitor", "status-page", "upptime"'),Object(s.b)("li",{parentName:"ul"},Object(s.b)("strong",{parentName:"li"},"Homepage:")," Link to your status website")),Object(s.b)("p",null,"You can add these configuration properties if you don't want these updates to occur:"),Object(s.b)("pre",null,Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-yaml"}),"skipDescriptionUpdate: true\nskipTopicsUpdate: true\nskipHomepageUpdate: true\n")),Object(s.b)("h3",{id:"git-commit-options"},"Git commit options"),Object(s.b)("p",null,"Upptime commits to git history to keep a track of response times, and also commits graphs and README updates. You can change the commit messages for each of these actions:"),Object(s.b)("pre",null,Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-yaml"}),'commitMessages:\n  readmeContent: ":pencil: Update summary in README [skip ci] [upptime]"\n  summaryJson: ":card_file_box: Update status summary [skip ci] [upptime]"\n  statusChange: "$EMOJI $SITE_NAME is $STATUS ($RESPONSE_CODE in $RESPONSE_TIME ms) [skip ci] [upptime]"\n  graphsUpdate: ":bento: Update graphs [skip ci] [upptime]"\n')),Object(s.b)("p",null,"By default, these commits are done by ",Object(s.b)("a",Object(n.a)({parentName:"p"},{href:"https://github.com/upptime-bot"}),"Upptime Bot"),", but you can overwrite these commits to use your bot instead."),Object(s.b)("pre",null,Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-yaml"}),'commitMessages:\n  commitAuthorName: "Upptime Bot"\n  commitAuthorEmail: "upptime@koj.co"\n')),Object(s.b)("h3",{id:"ci-schedule"},"CI schedule"),Object(s.b)("p",null,"You can customize the schedule when Uptime workflows run by adding the ",Object(s.b)("inlineCode",{parentName:"p"},"workflowSchedule")," key in your configuration file. The default values and syntax is like so:"),Object(s.b)("pre",null,Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-yaml"}),'workflowSchedule:\n  graphs: "0 0 * * *"\n  responseTime: "0 23 * * *"\n  staticSite: "0 1 * * *"\n  summary: "0 0 * * *"\n  updateTemplate: "0 0 * * *"\n  updates: "0 3 * * *"\n  uptime: "*/5 * * * *"\n')),Object(s.b)("h3",{id:"user-agent"},"User agent"),Object(s.b)("p",null,"Requests made to the GitHub API must include a valid User-Agent header (see ",Object(s.b)("a",Object(n.a)({parentName:"p"},{href:"https://developer.github.com/v3/#user-agent-required"}),"User Agent required"),"). It is recommended to use your GitHub username here:"),Object(s.b)("pre",null,Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-yaml"}),"user-agent: your-github-username\n")))}l.isMDXComponent=!0},79:function(e,t,a){"use strict";a.d(t,"a",(function(){return u})),a.d(t,"b",(function(){return d}));var n=a(0),o=a.n(n);function s(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){s(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function c(e,t){if(null==e)return{};var a,n,o=function(e,t){if(null==e)return{};var a,n,o={},s=Object.keys(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}var p=o.a.createContext({}),l=function(e){var t=o.a.useContext(p),a=t;return e&&(a="function"==typeof e?e(t):r(r({},t),e)),a},u=function(e){var t=l(e.components);return o.a.createElement(p.Provider,{value:t},e.children)},b={inlineCode:"code",wrapper:function(e){var t=e.children;return o.a.createElement(o.a.Fragment,{},t)}},m=o.a.forwardRef((function(e,t){var a=e.components,n=e.mdxType,s=e.originalType,i=e.parentName,p=c(e,["components","mdxType","originalType","parentName"]),u=l(a),m=n,d=u["".concat(i,".").concat(m)]||u[m]||b[m]||s;return a?o.a.createElement(d,r(r({ref:t},p),{},{components:a})):o.a.createElement(d,r({ref:t},p))}));function d(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var s=a.length,i=new Array(s);i[0]=m;var r={};for(var c in t)hasOwnProperty.call(t,c)&&(r[c]=t[c]);r.originalType=e,r.mdxType="string"==typeof e?e:n,i[1]=r;for(var p=2;p<s;p++)i[p]=a[p];return o.a.createElement.apply(null,i)}return o.a.createElement.apply(null,a)}m.displayName="MDXCreateElement"}}]);